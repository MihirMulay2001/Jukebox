(this["webpackJsonpincentify-jukebox"]=this["webpackJsonpincentify-jukebox"]||[]).push([[0],{10:function(e,t,a){e.exports={card:"Card_card__23DL3",img:"Card_img__2HrMX"}},11:function(e,t,a){e.exports={container:"LoginPage_container__qpla2",heading:"LoginPage_heading__2mvJM",subheading:"LoginPage_subheading__2aKby",loginbtn:"LoginPage_loginbtn__114WY",logo:"LoginPage_logo__z_LCR",image1:"LoginPage_image1__3FdEW",image2:"LoginPage_image2__321Jp"}},18:function(e,t,a){e.exports={container:"LandingPage_container__2S5KO",leftpane:"LandingPage_leftpane__2A67_",rightpane:"LandingPage_rightpane__XTagI",spotifylogo:"LandingPage_spotifylogo__GPUuB"}},27:function(e,t,a){e.exports={container:"Loading_container__CXSf2",loader:"Loading_loader__1-dPi",loading:"Loading_loading__3dzl-"}},30:function(e,t,a){e.exports={container:"Prelogin_container__3Tg9A",loginbtn:"Prelogin_loginbtn__1DPrW"}},51:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(77),c=a(45),r=a(41),l=a.n(r),o=a(12),d=(a(51),a(3)),j=a.p+"static/media/playlist-image1.d7ab158c.png",g=a.p+"static/media/playlist-image2.d31769a0.png",u=a.p+"static/media/Spotify_Logo.0c4ae91b.png",p=a(11),b=a.n(p),f=a(1);var h=function(){return Object(f.jsxs)("div",{className:b.a.container,children:[Object(f.jsx)("img",{className:b.a.image1,src:j,alt:"playlist "}),Object(f.jsx)("img",{className:b.a.image2,src:g,alt:"playlist "}),Object(f.jsx)("div",{className:b.a.logo,children:Object(f.jsx)("img",{src:u,alt:"spotify logo",width:"140px"})}),Object(f.jsx)("div",{className:b.a.heading,children:"Jukebox"}),Object(f.jsx)("div",{className:b.a.subheading,children:"Save trending playlists locally"}),Object(f.jsx)(o.b,{to:"/landingpage",className:b.a.loginbtn,children:"View Playlists"})]})},O=a(19),m=a(4),_=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("localPlaylists"),t=e?JSON.parse(e):"";e&&i(t)}),[]),{playlists:a,modifyPlaylists:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"DELETE"===e?i((function(e){var a=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("localPlaylists",JSON.stringify(a)),Object(O.a)(a)})):"SET"===e?i((function(e){if(-1!==e.findIndex((function(e){return e.id===t.id})))return Object(O.a)(e);var a=[].concat(Object(O.a)(e),[t]);return localStorage.setItem("localPlaylists",JSON.stringify(a)),Object(O.a)(a)})):"DELETE_ALL"===e&&(localStorage.clear(),i([]))}}},x=a(27),y=a.n(x);var v=function(){return Object(f.jsx)("div",{className:y.a.container,children:Object(f.jsx)("div",{className:y.a.loader,children:" "})})},N=a(28),P=a.n(N),L=a(42),S=a(43),E=a.n(S),k=function(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),i=a[0],s=a[1],c=Object(n.useState)(""),r=Object(m.a)(c,2),l=r[0],o=r[1],d=Object(n.useState)(!0),j=Object(m.a)(d,2),g=j[0],u=j[1],p=window.location.hash.substring(1).split("&")[0].split("=")[1];return console.log(window.location.hash),Object(n.useEffect)((function(){var t=function(){var t=Object(L.a)(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get(e,{headers:{Authorization:"Bearer ".concat(p)}});case 3:a=t.sent,s(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o("error occured");case 10:u(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,p]),{data:i,loading:g,error:l}},w=a(79),D=a(9),T=a.n(D),C=a(78),F=a(10),I=a.n(F);var J=function(e){var t=e.item,a=Object(C.a)((function(){return{type:"featured-playlist",item:{playlist:t},collect:function(e){return{isDragging:!!e.isDragging()}}}})),n=Object(m.a)(a,2),i=n[0].isDragging,s=n[1];return Object(f.jsx)("div",{className:I.a.card,ref:s,style:{border:i?"5px solid black":"0px"},children:Object(f.jsxs)("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[Object(f.jsx)("div",{className:I.a.img,children:Object(f.jsx)("img",{src:t.images[0].url,alt:"playlist cover",width:"100%",height:"100%"})}),Object(f.jsx)("div",{className:I.a.description,children:t.description})]})})};var A=function(e){var t=e.data,a=e.type;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{children:[a," playlists "]}),Object(f.jsx)("div",{className:T.a.playlists,children:t.length>0?t.map((function(e){return Object(f.jsx)(J,{item:e},e.id)})):"No playlists available"})]})},z=a(30),R=a.n(z),U="https://accounts.spotify.com/authorize";U+="?response_type=token",U+="&client_id="+encodeURIComponent("5f2ed8b9afd149e196baace029ed072e"),U+="&scope="+encodeURIComponent("user-read-private user-read-email"),U+="&redirect_uri="+encodeURIComponent("https://mihirmulay2001.github.io/Jukebox/landingpage"),U+="&state=jahsyyteoisjkhfd";var B=function(){return Object(f.jsxs)("div",{className:R.a.container,children:[Object(f.jsx)("h2",{children:"Login to access featured playlists"}),Object(f.jsx)("a",{href:U,className:R.a.loginbtn,children:"Login"})]})};function M(e){var t=e.modifyPlaylists,a=n.useState("Featured"),i=Object(m.a)(a,2),s=i[0],c=i[1],r=k("https://api.spotify.com/v1/browse/featured-playlists?country=IN"),l=k("https://api.spotify.com/v1/me/playlists"),o=Object(w.a)((function(){return{accept:"saved-playlist",drop:function(e){t("DELETE",e.playlist)},collect:function(e){return{isOver:!!e.isOver()}}}})),d=Object(m.a)(o,2),j=(d[0].isOver,d[1]);return r.loading||l.loading?Object(f.jsx)("div",{className:T.a.container,children:Object(f.jsx)(v,{})}):r.error||l.error?Object(f.jsx)("div",{ref:j,className:T.a.containerPre,children:Object(f.jsx)(B,{})}):Object(f.jsxs)("div",{ref:j,className:T.a.container,children:[Object(f.jsxs)("select",{className:T.a.selector,name:"playlistType",value:s,onChange:function(e){e.preventDefault(),c((function(e){return"Featured"===e?"Personal":"Featured"}))},children:[Object(f.jsx)("option",{value:"Featured",children:"Featured"}),Object(f.jsx)("option",{value:"Personal",children:"Personal"})]}),Object(f.jsx)(A,{data:"Featured"===s?r.data.playlists.items:l.data.items,type:s})]})}var W=function(e){var t=e.item,a=Object(C.a)((function(){return{type:"saved-playlist",item:{playlist:t},collect:function(e){return{isDragging:!!e.isDragging()}}}})),n=Object(m.a)(a,2),i=n[0].isDragging,s=n[1];return Object(f.jsx)("div",{className:I.a.card,ref:s,style:{border:i?"3px solid black":"0px"},children:Object(f.jsxs)("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[Object(f.jsx)("div",{className:I.a.img,children:Object(f.jsx)("img",{src:t.images[0].url,alt:"playlist cover",width:"100%",height:"100%"})}),Object(f.jsx)("div",{className:I.a.description,children:t.description})]})})};function X(e){var t=e.playlists,a=e.modifyPlaylists,n=Object(w.a)((function(){return{accept:"featured-playlist",drop:function(e){a("SET",e.playlist)},collect:function(e){return{isOver:!!e.isOver()}}}})),i=Object(m.a)(n,2),s=(i[0].isOver,i[1]);return Object(f.jsxs)("div",{ref:s,className:T.a.container,children:[Object(f.jsxs)("div",{className:T.a.heading,children:[Object(f.jsx)("h1",{children:"Saved playlists"}),Object(f.jsx)("button",{className:T.a.clearbtn,onClick:function(e){e.preventDefault(),a("DELETE_ALL")},children:"Clear Lists"})]}),Object(f.jsx)("div",{className:T.a.playlists,children:t.length>0?t.map((function(e){return Object(f.jsx)(W,{item:e},e.id)})):"No saved playlists"})]})}var q=a(18),G=a.n(q);var H=function(){var e=_(),t=e.playlists,a=e.modifyPlaylists;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:G.a.container,children:[Object(f.jsx)("img",{className:G.a.spotifylogo,src:u,alt:"spotify logo",width:"140px"}),Object(f.jsx)("div",{className:G.a.leftpane,children:Object(f.jsx)(M,{modifyPlaylists:a})}),Object(f.jsx)("div",{className:G.a.rightpane,children:Object(f.jsx)(X,{playlists:t,modifyPlaylists:a})})]})})};var K=function(){var e=window.location.hash;console.log("access token",e);var t=Object(d.f)();return e.length>1&&t("/landingpage#".concat(e)),Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{path:"/",element:Object(f.jsx)(h,{})}),Object(f.jsx)(d.a,{path:"/landingpage",element:Object(f.jsx)(H,{})})]})};l.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(s.a,{backend:c.a,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(K,{})})})}),document.getElementById("root"))},9:function(e,t,a){e.exports={container:"Pane_container__3j-cs",containerPre:"Pane_containerPre__H10yL",playlists:"Pane_playlists__3r1Te",heading:"Pane_heading__Ge_Nq",clearbtn:"Pane_clearbtn__1A1-N",selector:"Pane_selector__1F3TQ"}}},[[72,1,2]]]);
//# sourceMappingURL=main.884f449e.chunk.js.map