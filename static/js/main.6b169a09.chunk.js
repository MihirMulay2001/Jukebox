(this["webpackJsonpincentify-jukebox"]=this["webpackJsonpincentify-jukebox"]||[]).push([[0],{10:function(e,t,a){e.exports={card:"Card_card__23DL3",img:"Card_img__2HrMX"}},11:function(e,t,a){e.exports={container:"LoginPage_container__qpla2",heading:"LoginPage_heading__2mvJM",subheading:"LoginPage_subheading__2aKby",loginbtn:"LoginPage_loginbtn__114WY",logo:"LoginPage_logo__z_LCR",image1:"LoginPage_image1__3FdEW",image2:"LoginPage_image2__321Jp"}},18:function(e,t,a){e.exports={container:"LandingPage_container__2S5KO",leftpane:"LandingPage_leftpane__2A67_",rightpane:"LandingPage_rightpane__XTagI",spotifylogo:"LandingPage_spotifylogo__GPUuB"}},27:function(e,t,a){e.exports={container:"Loading_container__CXSf2",loader:"Loading_loader__1-dPi",loading:"Loading_loading__3dzl-"}},30:function(e,t,a){e.exports={container:"Prelogin_container__3Tg9A",loginbtn:"Prelogin_loginbtn__1DPrW"}},51:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(77),s=a(45),c=a(41),r=a.n(c),l=a(14),o=(a(51),a(3)),d=a.p+"static/media/playlist-image1.d7ab158c.png",j=a.p+"static/media/playlist-image2.d31769a0.png",g=a.p+"static/media/Spotify_Logo.0c4ae91b.png",u=a(11),p=a.n(u),b=a(1);var f=function(){return Object(b.jsxs)("div",{className:p.a.container,children:[Object(b.jsx)("img",{className:p.a.image1,src:d,alt:"playlist "}),Object(b.jsx)("img",{className:p.a.image2,src:j,alt:"playlist "}),Object(b.jsx)("div",{className:p.a.logo,children:Object(b.jsx)("img",{src:g,alt:"spotify logo",width:"140px"})}),Object(b.jsx)("div",{className:p.a.heading,children:"Jukebox"}),Object(b.jsx)("div",{className:p.a.subheading,children:"Save trending playlists locally"}),Object(b.jsx)(l.b,{to:"/landingpage",className:p.a.loginbtn,children:"View Playlists"})]})},h=a(19),O=a(4),m=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("localPlaylists"),t=e?JSON.parse(e):"";e&&i(t)}),[]),{playlists:a,modifyPlaylists:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"DELETE"===e?i((function(e){var a=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("localPlaylists",JSON.stringify(a)),Object(h.a)(a)})):"SET"===e?i((function(e){if(-1!==e.findIndex((function(e){return e.id===t.id})))return Object(h.a)(e);var a=[].concat(Object(h.a)(e),[t]);return localStorage.setItem("localPlaylists",JSON.stringify(a)),Object(h.a)(a)})):"DELETE_ALL"===e&&(localStorage.clear(),i([]))}}},_=a(27),x=a.n(_);var y=function(){return Object(b.jsx)("div",{className:x.a.container,children:Object(b.jsx)("div",{className:x.a.loader,children:" "})})},v=a(28),N=a.n(v),P=a(42),L=a(43),S=a.n(L),E=function(e){var t=Object(n.useState)({}),a=Object(O.a)(t,2),i=a[0],s=a[1],c=Object(n.useState)(""),r=Object(O.a)(c,2),l=r[0],o=r[1],d=Object(n.useState)(!0),j=Object(O.a)(d,2),g=j[0],u=j[1],p=window.location.hash.substring(1).split("&")[0].split("=")[1];return console.log(window.location.hash),Object(n.useEffect)((function(){var t=function(){var t=Object(P.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get(e,{headers:{Authorization:"Bearer ".concat(p)}});case 3:a=t.sent,s(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o("error occured");case 10:u(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,p]),{data:i,loading:g,error:l}},k=a(79),w=a(9),D=a.n(w),T=a(78),C=a(10),F=a.n(C);var I=function(e){var t=e.item,a=Object(T.a)((function(){return{type:"featured-playlist",item:{playlist:t},collect:function(e){return{isDragging:!!e.isDragging()}}}})),n=Object(O.a)(a,2),i=n[0].isDragging,s=n[1];return Object(b.jsx)("div",{className:F.a.card,ref:s,style:{border:i?"5px solid black":"0px"},children:Object(b.jsxs)("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[Object(b.jsx)("div",{className:F.a.img,children:Object(b.jsx)("img",{src:t.images[0].url,alt:"playlist cover",width:"100%",height:"100%"})}),Object(b.jsx)("div",{className:F.a.description,children:t.description})]})})};var J=function(e){var t=e.data,a=e.type;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h1",{children:[a," playlists "]}),Object(b.jsx)("div",{className:D.a.playlists,children:t.length>0?t.map((function(e){return Object(b.jsx)(I,{item:e},e.id)})):"No playlists available"})]})},A=a(30),z=a.n(A),R="https://accounts.spotify.com/authorize";R+="?response_type=token",R+="&client_id="+encodeURIComponent("5f2ed8b9afd149e196baace029ed072e"),R+="&scope="+encodeURIComponent("user-read-private user-read-email"),R+="&redirect_uri="+encodeURIComponent("https://mihirmulay2001.github.io/Jukebox/landingpage"),R+="&state=jahsyyteoisjkhfd";var U=function(){return Object(b.jsxs)("div",{className:z.a.container,children:[Object(b.jsx)("h2",{children:"Login to access featured playlists"}),Object(b.jsx)("a",{href:R,className:z.a.loginbtn,children:"Login"})]})};function B(e){var t=e.modifyPlaylists,a=n.useState("Featured"),i=Object(O.a)(a,2),s=i[0],c=i[1],r=E("https://api.spotify.com/v1/browse/featured-playlists?country=IN"),l=E("https://api.spotify.com/v1/me/playlists"),o=Object(k.a)((function(){return{accept:"saved-playlist",drop:function(e){t("DELETE",e.playlist)},collect:function(e){return{isOver:!!e.isOver()}}}})),d=Object(O.a)(o,2),j=(d[0].isOver,d[1]);return r.loading||l.loading?Object(b.jsx)("div",{className:D.a.container,children:Object(b.jsx)(y,{})}):r.error||l.error?Object(b.jsx)("div",{ref:j,className:D.a.containerPre,children:Object(b.jsx)(U,{})}):Object(b.jsxs)("div",{ref:j,className:D.a.container,children:[Object(b.jsxs)("select",{className:D.a.selector,name:"playlistType",value:s,onChange:function(e){e.preventDefault(),c((function(e){return"Featured"===e?"Personal":"Featured"}))},children:[Object(b.jsx)("option",{value:"Featured",children:"Featured"}),Object(b.jsx)("option",{value:"Personal",children:"Personal"})]}),Object(b.jsx)(J,{data:"Featured"===s?r.data.playlists.items:l.data.items,type:s})]})}var M=function(e){var t=e.item,a=Object(T.a)((function(){return{type:"saved-playlist",item:{playlist:t},collect:function(e){return{isDragging:!!e.isDragging()}}}})),n=Object(O.a)(a,2),i=n[0].isDragging,s=n[1];return Object(b.jsx)("div",{className:F.a.card,ref:s,style:{border:i?"3px solid black":"0px"},children:Object(b.jsxs)("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[Object(b.jsx)("div",{className:F.a.img,children:Object(b.jsx)("img",{src:t.images[0].url,alt:"playlist cover",width:"100%",height:"100%"})}),Object(b.jsx)("div",{className:F.a.description,children:t.description})]})})};function W(e){var t=e.playlists,a=e.modifyPlaylists,n=Object(k.a)((function(){return{accept:"featured-playlist",drop:function(e){a("SET",e.playlist)},collect:function(e){return{isOver:!!e.isOver()}}}})),i=Object(O.a)(n,2),s=(i[0].isOver,i[1]);return Object(b.jsxs)("div",{ref:s,className:D.a.container,children:[Object(b.jsxs)("div",{className:D.a.heading,children:[Object(b.jsx)("h1",{children:"Saved playlists"}),Object(b.jsx)("button",{className:D.a.clearbtn,onClick:function(e){e.preventDefault(),a("DELETE_ALL")},children:"Clear Lists"})]}),Object(b.jsx)("div",{className:D.a.playlists,children:t.length>0?t.map((function(e){return Object(b.jsx)(M,{item:e},e.id)})):"No saved playlists"})]})}var X=a(18),q=a.n(X);var G=function(){var e=m(),t=e.playlists,a=e.modifyPlaylists;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:q.a.container,children:[Object(b.jsx)("img",{className:q.a.spotifylogo,src:g,alt:"spotify logo",width:"140px"}),Object(b.jsx)("div",{className:q.a.leftpane,children:Object(b.jsx)(B,{modifyPlaylists:a})}),Object(b.jsx)("div",{className:q.a.rightpane,children:Object(b.jsx)(W,{playlists:t,modifyPlaylists:a})})]})})};var H=function(){return Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",element:Object(b.jsx)(f,{})}),Object(b.jsx)(o.a,{path:"/landingpage",element:Object(b.jsx)(G,{})})]})};r.a.render(Object(b.jsx)(n.StrictMode,{children:Object(b.jsx)(i.a,{backend:s.a,children:Object(b.jsx)(l.a,{children:Object(b.jsx)(H,{})})})}),document.getElementById("root"))},9:function(e,t,a){e.exports={container:"Pane_container__3j-cs",containerPre:"Pane_containerPre__H10yL",playlists:"Pane_playlists__3r1Te",heading:"Pane_heading__Ge_Nq",clearbtn:"Pane_clearbtn__1A1-N",selector:"Pane_selector__1F3TQ"}}},[[72,1,2]]]);
//# sourceMappingURL=main.6b169a09.chunk.js.map